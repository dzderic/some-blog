{% extends 'base.html' %}

{% block title %}New post{% endblock %}

{% block extra_head %}
<link href='http://fonts.googleapis.com/css?family=Inconsolata' rel='stylesheet' type='text/css'>
{% endblock %}

{% block content %}
<h2>New post</h2>

<form action="" method="POST">
  {{ form.non_field_errors }}
  <div class="tabbable md-editor-tabs">
    <ul class="nav nav-tabs">
        <li class="active"><a href="#tab-edit" data-toggle="tab">Edit</a></li>
        <li><a href="#tab-preview" data-toggle="tab">Preview</a></li>
    </ul>
    <div class="tab-content">
      <div class="tab-pane active" id="tab-edit">
        {{ form.content.errors }}
        <textarea name="content" id="content" class="md-editor">{{ form.content.value }}</textarea>
        <div class="pull-right">
          <i class="icon-arrow-up"></i>
          <a href="http://daringfireball.net/projects/markdown/syntax">Markdown</a> goes here
        </div>
      </div>
      <div class="tab-pane" id="tab-preview">
        <div class="well" id="content-preview">
        </div>
      </div>
    </div>
  </div>

  <div class="form-actions">
    {{ form.title.errors }}
    <div class="control-group">
      <label class="control-label" for="title">Title</label>
      <div class="controls">
        <input type="text" class="input-xlarge" id="title" name="title" value="{{ form.title.value }}" />
      </div>
    </div>
    <button type="submit" class="btn btn-primary"><i class="icon-ok icon-white"></i> Create post</button>
  </div>
</form>

{% endblock %}

{% block extra_script %}
<script type="text/javascript" src="/static/js/new_post.js"></script>
{% endblock %}
